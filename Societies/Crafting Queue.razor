# Society Optimiser Crafting Queue
# Aphlux Alloyed - 2 skills
# 10 recipes selected
# Version: 1.2.5W
# Generated: 7/23/2025, 9:43:34 AM
# Generated by: https://www.outlandsbutler.com
#############################################
# INSTRUCTIONS:
# 1. Run this script in Razor
# 2. Fill in the quantities for each item
#
#
# DOUBLE CHECK THE ITEMS AND QUANTITIES
# If you notice any errors, please report them to the Outlands Butler Discord and 
# they will be fixed immediately (presuming I am awake)
#
#
#########
# Dont edit these, if you want to set them do it via the website.
# VARIABLES:
@setvar alchemyStockpile 0
@setvar inscriptionStockpile 0
@setvar blacksmithStockpile 0
@setvar tailoringStockpile 0
@setvar carpentryStockpile 0
@setvar tinkeringStockpile 0
@setvar cartographyStockpile 0
@setvar waitForMe 1
@setvar! foundStockpile 0
#########
# Closes any existing crafting gump or queue gump
if gumpexists 949095101
  gumpclose 949095101
endif
if gumpexists 453554062
  gumpclose 453554062
endif
if gumpexists 1859005118
  gumpclose 1859005118
endif

# DEPRECATED: Old method of finding a specific resource stockpile using butlerStockpile, do not create a variable called butlerStockpile, it will not do anything.
# If you have multiple resource stockpiles next to each other, and want to use a specific resource stockpile, then follow the instructions on the website script generator.


# Check for Resource Stockpile
# Opens Resource Stockpile and changes to Crafting Tool page
if foundStockpile = 0
  if findtype "resource container" ground -1 -1 2 as stocky
    dclick stocky
    waitforgump 1859005118
    gumpresponse 7 1859005118
    waitforgump 1859005118
    @setvar! foundStockpile stocky
  else
    overhead 'I cant find your Resource Stockpile, move closer.' 53
    wait 2000
    replay
  endif
else 
  if find foundStockpile ground -1 -1 2 as blocky
    dclick blocky
    waitforgump 1859005118 3000
    if gumpexists 1859005118
      gumpresponse 7 1859005118
      waitforgump 1859005118
    else
      overhead 'I think you made a mistake, your custom stockpile Default is not a Resource Stockpile.' 53
      sysmsg 'I think you made a mistake, your custom stockpile Default is not a Resource Stockpile.' 53
      stop
    endif    
  else
    overhead 'I cant find your specific Resource Stockpile Default, move closer.' 53
    wait 2000
    replay
  endif
endif
#Carpentry
gumpclose 949095101
gumpresponse 102 1859005118
waitforgump 1859005118
if gumpexists 949095101
  @setvar! carpentryStockpile 1
endif
gumpclose 949095101
if carpentryStockpile = 0
    if findtype "saw" backpack as carpentryTool
# skip
else
  overhead 'No Saw in backpack!' 34
  wait 2000
  replay
endif
endif
#Tinkering
gumpclose 949095101
gumpresponse 107 1859005118
waitforgump 1859005118
if gumpexists 949095101
  @setvar! tinkeringStockpile 1
endif
gumpclose 949095101
if tinkeringStockpile = 0
    if findtype 7864 backpack  as tinkerTool
# skip
else
  overhead 'No Tinkers Tools in backpack!' 34
  wait 2000
  replay
endif
endif

overhead "Tools available, lets get to work!" 88

# Opens Crafting Queue
whisper '[cq'
waitforgump 453554062
gumpresponse 5 453554062
waitforgump 453554062
if insysmsg "You are already at the maximum number of crafting queues allowed."
    overhead "Too many crafting queues, please delete a queue then start the script again" 34
    sysmsg "Too many crafting queues, please delete a queue then start the script again" 34
    stop
endif
wait 500









    # Carpentry
    if carpentryStockpile = 1
      if find foundStockpile ground -1 -1 2
        gumpresponse 102 1859005118
        waitforgump 949095101
        overhead "Adding Carpentry Jobs" 88
      else
        overhead "I cant find your Resource Stockpile, move closer." 53
        wait 2000
        replay
      endif
    else
      if findtype "saw" backpack as carptool
        dclick carptool
        waitforgump 949095101
        overhead "Adding Carpentry Jobs" 88
      else
        overhead "No Saw in backpack!" 34
        wait 2000
        replay
      endif
    endif
gumpresponse 100 949095101
waitforgump 949095101
# This is a dumb fix to prevent the issue of the gump mistaking recyle Regular for the material type
overhead "Changing material to Regular" 673
while not ingump "Dullwood" 949095101
gumpresponse 12 949095101
waitforgump 949095101
endwhile
gumpresponse 12 949095101
waitforgump 949095101
gumpresponse 100 949095101
waitforgump 949095101
gumpresponse 100 949095101
waitforgump 949095101
gumpresponse 11 949095101
waitforgump 949095101
gumpresponse 401 949095101
waitforgump 949095101
gumpresponse 10 949095101
waitforgump 949095101
gumpresponse 409 949095101
waitforgump 949095101
gumpresponse 101 949095101
waitforgump 949095101
gumpresponse 409 949095101
waitforgump 949095101
overhead "Changing material to Bronzewood" 673
gumpresponse 101 949095101
waitforgump 949095101
gumpresponse 100 949095101
waitforgump 949095101
while not ingump "Bronzewood" 949095101
gumpresponse 12 949095101
waitforgump 949095101
endwhile
gumpresponse 101 949095101
waitforgump 949095101
gumpresponse 408 949095101
waitforgump 949095101

gumpresponse 101
waitforgump 949095101
gumpresponse 100 949095101
waitforgump 949095101
overhead "Resetting Carpentry to Regular" 673
while not ingump "Dullwood" 949095101
gumpresponse 12 949095101
waitforgump 949095101
endwhile
gumpresponse 12 949095101
waitforgump 949095101
gumpclose 949095101



    # Tinkering
    if tinkeringStockpile = 1
      if find foundStockpile ground -1 -1 2
        gumpresponse 107 1859005118
        waitforgump 949095101
        overhead "Adding Tinkering Jobs" 88
      else
        overhead "I cant find your Resource Stockpile, move closer." 53
        wait 2000
        replay
      endif
    else
      if findtype 7864 backpack as tinkertool
        dclick tinkertool
        waitforgump 949095101
        overhead "Adding Tinkering Jobs" 88
      else
        overhead "No Tool Kit in backpack!" 34
        wait 2000
        replay
      endif
    endif
gumpresponse 100 949095101
waitforgump 949095101
# This is a dumb fix to prevent the issue of the gump mistaking Shadow Iron for Iron material type
overhead "Changing material to Regular" 673
while not ingump "Dull" 949095101
gumpresponse 12 949095101
waitforgump 949095101
endwhile
gumpresponse 12 949095101
waitforgump 949095101
gumpresponse 100 949095101
waitforgump 949095101
gumpresponse 9 949095101
waitforgump 949095101
gumpresponse 102 949095101
waitforgump 949095101
gumpresponse 403 949095101
waitforgump 949095101
gumpresponse 8 949095101
waitforgump 949095101
gumpresponse 107 949095101
waitforgump 949095101
gumpresponse 402 949095101
waitforgump 949095101
gumpresponse 101 949095101
waitforgump 949095101
gumpresponse 11 949095101
waitforgump 949095101
gumpresponse 402 949095101
waitforgump 949095101
gumpresponse 10 949095101
waitforgump 949095101
gumpresponse 403 949095101
waitforgump 949095101
gumpresponse 102 949095101
waitforgump 949095101
gumpresponse 404 949095101
waitforgump 949095101
gumpresponse 9 949095101
waitforgump 949095101
gumpresponse 102 949095101
waitforgump 949095101
gumpresponse 401 949095101
waitforgump 949095101

gumpresponse 101
waitforgump 949095101
gumpresponse 100 949095101
waitforgump 949095101
overhead "Resetting Tinkering to Regular" 673
while not ingump "Dull" 949095101
gumpresponse 12 949095101
waitforgump 949095101
endwhile
gumpresponse 12 949095101
waitforgump 949095101
gumpclose 949095101






# Close Resource Stockpile
if gumpexists 1859005118
  gumpclose 1859005118
endif


if ingump "Page" 453554062
  while not ingump "1/" 453554062
    gumpresponse 8 453554062
    waitforgump 453554062
    wait 500
  endwhile
endif

# Recycle and Exceptional Setting
overhead "Setting Exceptional status and Recycling" 88
overhead "Ignore the system message errors, it be dumb" 53
gumpresponse 600 453554062
waitforgump 453554062
wait 500
gumpresponse 500 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500
gumpresponse 601 453554062
waitforgump 453554062
wait 500
gumpresponse 501 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500
gumpresponse 602 453554062
waitforgump 453554062
wait 500
gumpresponse 502 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500
gumpresponse 603 453554062
waitforgump 453554062
wait 500
gumpresponse 503 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500
gumpresponse 604 453554062
waitforgump 453554062
wait 500
gumpresponse 504 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500
gumpresponse 9 453554062
waitforgump 453554062
gumpresponse 601 453554062
waitforgump 453554062
wait 500
gumpresponse 501 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500
gumpresponse 602 453554062
waitforgump 453554062
wait 500
gumpresponse 502 453554062
waitforgump 453554062
waitforgump 3239880667
gumpresponse 3 3239880667
waitforgump 3239880667
gumpresponse 5 3239880667
waitforgump 453554062
wait 500

if ingump "Page" 453554062
  while not ingump "1/" 453554062
    gumpresponse 8 453554062
    waitforgump 453554062
    wait 500
  endwhile
endif





    # Set Resource Stockpile as source
if find foundStockpile ground -1 -1 2 as resStocky
overhead "Setting Resource Stockpile as source" 88
  gumpresponse 10 453554062
  waitfortarget
  waitforgump 453554062 
  wait 500
  target resStocky
  waitforgump 453554062
else
  overhead 'I cant find your Resource Stockpile, set queue resource source manually.' 53
  wait 2000
endif
wait 800


# Waiting for user to fill in quantities
  overhead "Lets fill in the quantities together" 88
  overhead "Lets fill in the quantities together" 88
  overhead "Lets fill in the quantities together" 88
gumpresponse 500 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 52 then press confirm" 169
  sysmsg "Enter quantity 52 then press confirm" 169
  wait 1000
endwhile
wait 500
gumpresponse 501 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 30 then press confirm" 179
  sysmsg "Enter quantity 30 then press confirm" 179
  wait 1000
endwhile
wait 500
gumpresponse 502 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 9 then press confirm" 169
  sysmsg "Enter quantity 9 then press confirm" 169
  wait 1000
endwhile
wait 500
gumpresponse 503 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 10 then press confirm" 179
  sysmsg "Enter quantity 10 then press confirm" 179
  wait 1000
endwhile
wait 500
gumpresponse 504 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 36 then press confirm" 169
  sysmsg "Enter quantity 36 then press confirm" 169
  wait 1000
endwhile
wait 500
gumpresponse 9 453554062
waitforgump 453554062
wait 500
gumpresponse 500 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 62 then press confirm" 179
  sysmsg "Enter quantity 62 then press confirm" 179
  wait 1000
endwhile
wait 500
gumpresponse 501 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 18 then press confirm" 169
  sysmsg "Enter quantity 18 then press confirm" 169
  wait 1000
endwhile
wait 500
gumpresponse 502 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 13 then press confirm" 179
  sysmsg "Enter quantity 13 then press confirm" 179
  wait 1000
endwhile
wait 500
gumpresponse 503 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 8 then press confirm" 169
  sysmsg "Enter quantity 8 then press confirm" 169
  wait 1000
endwhile
wait 500
gumpresponse 504 453554062
waitforgump 453554062
waitforgump 3239880667
while gumpexists 3239880667
  overhead "Enter quantity 60 then press confirm" 179
  sysmsg "Enter quantity 60 then press confirm" 179
  wait 1000
endwhile
wait 500
overhead "All done! PLEASE double check the items and quantities." 153
if ingump "Page" 453554062
  while not ingump "1/" 453554062
    gumpresponse 8 453554062
    waitforgump 453554062
    wait 500
  endwhile
endif





# Overhead all items and quantities
sysmsg "Here are your job quantities:" 319
sysmsg "52 x Heavy Crossbow (Exceptional)" 153
sysmsg "30 x Pistol Crossbow (Exceptional)" 153
sysmsg "9 x Wooden Kite Shield (Exceptional)" 153
sysmsg "10 x Bronzewood Wooden Shield (Exceptional)" 153
sysmsg "36 x Shadow Iron Planter's Spade (Exceptional)" 153
sysmsg "62 x Small Ship Bomb" 48
sysmsg "18 x Shadow Iron Pickaxe (Exceptional)" 153
sysmsg "13 x Copper Skinning Knife (Exceptional)" 153
sysmsg "8 x Bronze Lockpicks" 48
sysmsg "60 x Planter's Spade" 48



# Important Warning
overhead "---------------" 153
overhead "DOUBLE CHECK ITEMS AND QUANTITIES" 90
overhead "If you spot any errors, tell me in Butler discord and they will be fixed immediately." 91
sysmsg "---------------" 153
sysmsg "DOUBLE CHECK ITEMS AND QUANTITIES" 90
sysmsg "If you spot any errors, tell me in Butler discord and they will be fixed immediately." 91



