hotkey 'Cancel Current Target'
clearsysmsg 

@setvar rentalGumpID 2393832411

if gumpexists rentalGumpID
    gumpclose
    wait 100
endif

say 'room'
waitforgump rentalGumpID 3000

if ingump 'Enter Your Room'
    while not insysmsg 'You enter the rental room'
        overhead 'Entering my room...' 903
        gumpresponse 4
        wait 100
    endwhile
    
    overhead 'Welcome home'
    
elseif ingump 'Rent This Room'
    gumpresponse 5
    waitforgump rentalGumpID 3000
    
    if ingump 'co-owner'
        while not insysmsg 'You enter the rental room'
            overhead 'Entering co-owned room...' 903
            gumpresponse 100
            wait 500
        endwhile
        
        overhead 'Welcome home'
    else
        overhead 'No access to any rooms!' 38
    endif
else 
    sysmsg 'Character does not have a room or access to one!' 38
    overhead 'No room access!' 38
endif