@setvar! repairGump 1271619955

while gumpexists repairGump
    gumpclose repairGump
endwhile

if findtype 'wall shelf' as repairkit
    dclick repairkit
    waitforgump repairGump
else 
    overhead 'I need a repair kit!' 38
    wait 2500
    loop
endif

overhead '*begins repairing sails*' 1001
clearsysmsg 
gumpresponse 3

while 1 = 1
    if insysmsg 'Sails repaired for'
        overhead '*makes progress*' 1001
        loop
    elseif insysmsg 'sails are already at full'
        overhead 'Sails at maximum!'
        stop
    endif
endwhile