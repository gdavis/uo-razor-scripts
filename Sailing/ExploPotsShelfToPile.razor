# This script helps move explosion
# potions from a storage shelf
# to a nearby resource stockpile. 
# 
# This is handy for tinkers making 
# large ship bombs since it is a super
# PITA to move potions into the pile.
#
# Written by Aphlux
# Last updated July 14, 2023

# shelf id
gumpclose 3232825965

# stockpile id
gumpclose 1859005118

if findtype 'storage shelf' ground any any 2 as shelf and findtype 'resource container' ground any any 2 as pile    
    dclick pile 
    waitforgump 1859005118 2000  
    
    dclick shelf
    waitforgump 3232825965 2000
    
    gumpresponse 7 3232825965
    waitforgump 3232825965 6000
    
    while findtype 'Purple Potion' as potion 
        getlabel potion potionName
        overhead 'Adding {{potionName}}' 54
    
        menu pile 0
        wft 1000
        target potion
        wait 667
    endwhile
    
    gumpclose 3232825965
    gumpclose 1859005118
    
    dclick pile 
    waitforgump 1859005118 6000
    dclick shelf
    waitforgump 3232825965 6000
else
    overhead 'Not close enough to the resource pile and shelf!' 38
endif
