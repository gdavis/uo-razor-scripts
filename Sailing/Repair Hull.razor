@setvar! repairGump 1271619955

while gumpexists repairGump
    gumpclose repairGump
endwhile

if findtype 'wall shelf' as repairkit
    dclick repairkit
    waitforgump repairGump
else 
    overhead 'I need a repair kit!' 38
    wait 2500
    loop
endif

overhead '*begins repairing hull*' 1001
clearsysmsg 
gumpresponse 2

while 1 = 1
    if insysmsg 'Hull repaired for'
        loop
    elseif insysmsg 'hull is already at full'
        overhead 'Hull at maximum!'
        stop
    endif
endwhile