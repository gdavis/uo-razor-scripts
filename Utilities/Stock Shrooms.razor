# Creates a bunch of mushrooms and puts them
# into a nearby storage shelf.
for 500
    if not findtype 3972 self or not findtype 3973 self or not findtype 3974 self
        overhead 'Out of regs!' 38
        if findtype 'storage shelf' ground -1 -1 2 as shelf
            overhead 'Restocking from shelf...' 53
            menu shelf 1
        endif
    endif    

    cast 'Create Food'
    wait 1250
    
    if diffweight < 25 or index == 499
        overhead 'Stashing shrooms...' 69
    
        if findtype 'mushroom' self as shroom
            lift shroom 60000
            
            if findtype 'storage shelf' ground -1 -1 2 as shelf
                drop shelf
            endif
        endif
    endif
endfor
